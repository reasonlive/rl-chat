(this["webpackJsonprl-chat"]=this["webpackJsonprl-chat"]||[]).push([[0],Array(18).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);for(var a=n(0),r=n(1),c=n.n(r),s=n(22),i=n.n(s),o=n(2),u=n.n(o),l=n(3),d=n(4),p=n(26),j=n(5),h=(n(36),n(37),function(e){var t=e.title,n=e.text,c=e.left,s=e.top,i={display:e.display,position:"absolute",left:c,top:s},o={left:"",top:"",borderLeft:"",borderRight:"",borderTop:"",borderBottom:""},u=200,l=Object(r.useState)(),p=Object(d.a)(l,2),j=p[0],h=p[1],b=function(){var e,t=(e=i.left)<u||e<400?"left":e>220||e>400?"right":void 0;"left"===t&&(o.left="-10%",o.top="30%",o.borderLeft="",o.borderRight="10px solid sienna"),"right"===t&&(o.left="100%",o.top="30%",o.borderLeft="10px solid sienna",o.borderRight=""),"top"===t&&(o.left="45%",o.top="-40%",o.borderLeft="",o.borderRight="",o.borderBottom="10px solid sienna"),"bottom"===t&&(o.left="45%",o.top="100%",o.borderLeft="",o.borderRight="",o.borderBottom="",o.borderTop="10px solid sienna"),h(o)};Object(r.useEffect)((function(){(c||s)&&b()}));return Object(a.jsx)("div",{style:i,onClick:function(e){console.log(e.target.getBoundingClientRect())},children:Object(a.jsxs)("div",{className:"tip tip-junior",children:[Object(a.jsx)("p",{children:t}),Object(a.jsx)("p",{children:n}),Object(a.jsx)("span",{style:j,class:"tip-arrow"})]})})}),b=(n(38),n(23)),m=n(24),f=n(29),x=n(28),O=(n(39),function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={htmlSymbol:Object(a.jsx)("span",{children:"\u25bc"}),direction:"down"},r}return Object(m.a)(n,[{key:"changeSymbol",value:function(){var e="up"===this.state.direction?"down":"up",t="up"===e?Object(a.jsx)("span",{children:"\u25b2"}):Object(a.jsx)("span",{children:"\u25bc"});this.setState({htmlSymbol:t}),this.setState({direction:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.action,c=t.css,s=t.tip,i=t.destination,o=this.state.htmlSymbol;return Object(a.jsx)("button",{style:c,"data-tip":s,"data-destination":i,className:"btn btn-junior",onClick:function(t){r&&r(t),e.changeSymbol()},children:n||o})}}]),n}(r.Component)),g=(n(40),function(e){var t=e.css,n=e.buttons,r=function(e){"registration"===e.target.innerHTML&&(document.location.href="/registration"),"login"===e.target.innerHTML&&(document.location.href="/login"),"chats"===e.target.innerHTML&&(document.location.href="/chats"),"groups"===e.target.innerHTML&&(document.location.href="/groups"),"people"===e.target.innerHTML&&(document.location.href="/people")},c=n.map((function(e){return Object(a.jsx)(O,{text:e,action:r})}));return Object(a.jsx)("div",{style:t,className:"menu menu-junior",children:c})}),v=(n(41),n(18),function(e){var t=e.classAttr,n=e.span,r=e.block,c=e.link,s=e.listItem,i=e.image,o=e.linkUrl,u=e.imageUrl,l=e.text,d=e.css;return n?Object(a.jsx)("span",{className:t,style:d,children:l}):r?Object(a.jsx)("div",{className:t,style:d,children:l}):c?Object(a.jsx)("a",{className:t,style:d,href:o,children:l}):s?Object(a.jsx)("li",{className:t,style:d,children:l},l):i?Object(a.jsx)("img",{className:t,style:d,src:u,alt:l}):void 0}),y=function(e){var t=e.items,n=e.css,c=Object(r.useState)(0),s=Object(d.a)(c,2),i=s[0],o=s[1],u={minWidth:150,textAlign:"center",display:"flex",justifyContent:"center",cursor:"pointer"},l={marginLeft:i},p=(t.length-1)*u.minWidth,j=function(e){"toLeft"===e.target.className&&((i-=u.minWidth)<=-p&&(i=-p),o(i)),"toRight"===e.target.className&&((i+=u.minWidth)>=0&&(i=0),o(i))},h=t.map((function(e){return e instanceof Object?Object(a.jsx)(v,{link:!0,text:e.name,linkUrl:"/chat/"+e.id,css:u}):Object(a.jsx)(v,{block:!0,text:e,css:u})}));return Object(a.jsxs)("div",{style:n,className:"switcher",children:[Object(a.jsx)("span",{onClick:j,className:"toLeft",children:"\u25c4"}),Object(a.jsx)("div",{className:"items-wrapper",children:Object(a.jsx)("div",{className:"items-frame",children:Object(a.jsx)("div",{style:l,className:"switcher-items",children:h})})}),Object(a.jsx)("span",{onClick:j,className:"toRight",children:"\u25ba"})]})},w=function(e){var t=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("logged")){e.next=8;break}return e.next=3,fetch("/logout/byajax");case 3:return t=e.sent,e.next=6,t.text();case 6:"success"===e.sent&&(document.getElementsByClassName("user-bar-wrapper")[0].style.display="none",localStorage.removeItem("logged"),document.location.href="/");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=Object(r.useState)(!1),c=Object(d.a)(n,2),s=c[0],i=c[1],o={};o=s?{height:150}:{height:0};var p=e.name,j=e.avatar,h=e.registration,b=e.status,m=e.estimate,f=e.tags,x=e.chats,g=e.groups,v=e.country,w=e.age,k=e.email,N={color:"orange",backgroundColor:"black",width:300};return Object(a.jsxs)("div",{className:"user-bar-wrapper",children:[Object(a.jsxs)("div",{style:o,className:"user-bar user-bar-junior",children:[Object(a.jsx)("div",{className:"avatar",children:Object(a.jsx)("img",{src:"/img/avatars/"+j,alt:p})}),Object(a.jsxs)("div",{className:"user-info",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"username: "}),Object(a.jsx)("p",{children:"registered: "}),Object(a.jsx)("p",{children:"status: "}),Object(a.jsx)("p",{children:"estimate: "}),Object(a.jsx)("p",{children:"country: "}),Object(a.jsx)("p",{children:"age: "}),Object(a.jsx)("p",{children:"email: "})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:p}),Object(a.jsx)("p",{children:h}),Object(a.jsx)("p",{children:b}),Object(a.jsx)("p",{children:m}),Object(a.jsx)("p",{children:v}),Object(a.jsx)("p",{children:w}),Object(a.jsx)("p",{children:k})]})]}),Object(a.jsxs)("div",{className:"user-stuff",children:[Object(a.jsxs)("div",{className:"user-stuff__item",children:[Object(a.jsxs)("div",{children:[f?f.length:"0"," tags:"]}),Object(a.jsx)(y,{css:N,items:f&&f.length>0?f:["empty"]})]}),Object(a.jsxs)("div",{className:"user-stuff__item",children:[Object(a.jsxs)("div",{children:[x?x.length:"0"," chats: "]}),Object(a.jsx)(y,{css:N,items:x&&x.length>0?x:["empty"]})]}),Object(a.jsxs)("div",{className:"user-stuff__item",children:[Object(a.jsxs)("div",{children:[g?g.length:"0"," groups:"]}),Object(a.jsx)(y,{css:N,items:g&&g.length>0?g:["empty"]})]})]}),Object(a.jsxs)("div",{className:"user-buttons",children:[Object(a.jsx)(O,{text:"main",action:function(){document.location.href="/main"}}),Object(a.jsx)(O,{text:"my profile",action:function(){document.location.href="/profile"}}),Object(a.jsx)(O,{text:"logout",action:t})]})]}),Object(a.jsx)(O,{tip:"userBarTip",action:function(){i(!s)},css:{position:"absolute",right:"1px",top:"-35px"}})]})},k=(n(42),n.p+"static/media/logo.6ce24c58.svg"),N=(n(43),function(e){var t=c.a.createRef(),n=e.type,r=e.placeholder,s=e.action,i=e.name,o=e.id;return Object(a.jsx)("div",{children:Object(a.jsx)("input",{className:"input input-junior",type:n,placeholder:r,onChange:s,name:i,id:o,ref:t})})}),S=n.p+"static/media/sd.bffa0a48.png",T=(n(19),function(e){var t,n,r=e.items,c=e.css,s=e.itemCss,i=e.tag,o=e.classAttr;return"image"===i&&(n=r.map((function(e){return Object(a.jsx)(v,{classAttr:o,css:s,image:!0,imageUrl:e})})),t=Object(a.jsx)("div",{children:n})),"a"===i&&(n=r.map((function(e){return Object(a.jsx)(v,{classAttr:o,css:s,link:!0,text:e.text,linkUrl:e.url})})),t=Object(a.jsx)("div",{children:n})),"div"===i&&(n=r.map((function(e){return Object(a.jsx)(v,{classAttr:o,css:s,block:!0,text:e})})),t=Object(a.jsx)("div",{children:n})),"li"===i&&(n=r.map((function(e){return Object(a.jsx)(v,{classAttr:o,css:s,listItem:!0,text:e})})),t=Object(a.jsx)("ul",{style:c,children:n})),i||(t=r),Object(a.jsx)("div",{style:c,children:t})}),C={display:"flex",alignItems:"center"},L={padding:0,width:40,height:40,marginTop:0,cursor:"pointer",backgroundColor:"black"},A={position:"relative",display:"flex",flexDirection:"row"},E=function(e){var t=e.start,n=function(e){"IMG"!==e.target.tagName&&"website"!==e.target.className||(document.location.href="/"),"LI"!==e.target.tagName&&"header-li"!==e.target.className||(document.location.href="/"+e.target.innerHTML),"search-btn"===e.target.id&&(document.location.href="/search")},r=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{style:C,children:[Object(a.jsx)("img",{onClick:n,src:k,alt:"logo"}),Object(a.jsx)("span",{onClick:n,className:"website",children:"rl0chat"})]}),Object(a.jsx)(T,{tag:"li",items:["chats","groups","people"],classAttr:"header-li"}),Object(a.jsxs)("div",{style:A,children:[Object(a.jsx)("input",{className:"input-search",type:"text",placeholder:"search",name:"search"}),Object(a.jsx)("img",{id:"search-btn",style:L,src:S,alt:"s-logo"})]}),Object(a.jsx)(g,{buttons:["login","registration"]})]}),c=t?r:"";return Object(a.jsx)("div",{className:"header",onClick:n,children:c})},M=(n(44),[{text:"feedback",url:"/feedback"},{text:"agreement",url:"/agreement"},{text:"rules",url:"/rules"}]),P=function(e){e.css;var t=e.cssList;return t={width:100,display:"flex",flexDirection:"column"},{display:"block",height:100,width:100},Object(a.jsxs)("div",{className:"footer",children:[Object(a.jsx)(T,{tag:"a",items:M,itemCss:t}),Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"list",children:"\xa92021"})})]})},I=(n(45),function(e){var t=e.header,n=e.content,r=e.footer,c=e.css;return Object(a.jsxs)("div",{style:c,className:"main",children:[t,n,r]})}),B=(n(46),function(e){var t=e.title,n=e.sectionArray,r=(e.image,n.map((function(e){return Object(a.jsx)("section",{children:e})})));return Object(a.jsxs)("div",{className:"description description-junior",children:[Object(a.jsx)("h2",{children:t}),r]})}),R=n(11),D=function(e){var t=e.user,n=(e.chat,e.group),r=e.object,c=e.css,s=e.id,i=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("logged")){e.next=4;break}return alert("You have to be logged for this action!"),document.location.href="/login",e.abrupt("return");case 4:"membership"===t.target.dataset.destination&&("chat"===(n=t.target.closest(".item-mixed")).dataset.destination&&(document.location.href="/chat/"+s),"group"===n.dataset.destination&&(document.location.href="/group")),"friendship"===t.target.dataset.destination&&"user"===t.target.closest(".item-mixed").dataset.destination&&alert("Request to add user to your user list was made! Please, wait for confirmation from the user");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=new Map,p=[],j=[],h=[],b=[],m={width:50,height:50,borderRadius:"50%"};if(r){for(var f in r)o.set(f,r[f]);var x,g=Object(R.a)(o);try{for(g.s();!(x=g.n()).done;){var v=x.value,y=Object(d.a)(v,2),w=y[0],k=y[1];("private"!==w||k)&&("private"===w&&k?p.push(Object(a.jsx)("div",{className:"descr",children:w})):"_id"!==w&&("avatar"!==w?"name"!==w?"tags"!==w?p.push(Object(a.jsxs)("div",{className:"descr",children:[w," : ",k]})):p.push(Object(a.jsxs)("div",{className:"descr tag-cell",children:[w," : ",k]})):h.push(Object(a.jsx)("div",{className:"item-name",children:Object(a.jsx)("span",{children:k})})):b.push(Object(a.jsx)("img",{style:m,src:"/img/avatars/"+k,alt:w}))))}}catch(N){g.e(N)}finally{g.f()}t||j.push(Object(a.jsx)(O,{text:"get in",destination:"membership"})),t&&j.push(Object(a.jsx)(O,{text:"add",destination:"friendship"}))}return Object(a.jsxs)("div",{style:c,className:"item-mixed",onClick:i,"data-destination":t?"user":n?"group":"chat",children:[b.length>0?Object(a.jsxs)("div",{className:"itemMixed-user-block",children:[b,h]}):Object(a.jsx)("div",{children:h}),Object(a.jsx)("div",{className:"descr-block",children:p}),Object(a.jsx)("div",{className:"itemMixed-buttons",children:j})]})},H=function(){Object(r.useEffect)((function(){localStorage.getItem("logged")&&(document.location.href="/main")}),[]);var e=Object(a.jsx)(I,{header:Object(a.jsx)(E,{start:!0}),content:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(B,{title:"Start to communicate with people",sectionArray:["There are several ways how to communicate.\n             It could be private or public chats, personal or professional groups by interest"]}),Object(a.jsx)(B,{title:"Find friends and people by interest",sectionArray:["Our platform helps to find people who has\n             the same professional skills and hobbies like you have"]})]}),footer:Object(a.jsx)(P,{})});return Object(a.jsx)("div",{className:"body",children:e})},J=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),i=Object(d.a)(s,2),o=i[0],p=i[1],j=Object(r.useState)([]),h=Object(d.a)(j,2),b=h[0],m=h[1],f=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/main/getData");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.groups),p(n.chats),m(n.users);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:case"end":return e.stop()}}),e)}))),[]),Object(r.useEffect)((function(){localStorage.getItem("logged")||(document.location.href="/")}),[]),n=n.length>0?n.map((function(e){return Object(a.jsx)(D,{id:e._id,group:!0,object:e})})):Object(a.jsx)(v,{block:!0,text:"list is empty"}),o=o.length>0?o.map((function(e){return Object(a.jsx)(D,{id:e._id,chat:!0,object:e})})):Object(a.jsx)(v,{block:!0,text:"list is empty"}),b=b.length>0?b.map((function(e){return Object(a.jsx)(D,{id:e._id,user:!0,object:e})})):Object(a.jsx)(v,{block:!0,text:"list is empty"});var x={width:1200,display:"flex",flexDirection:"column",alignItems:"center",height:300,borderRadius:5,border:"1px solid firebrick",padding:"10px 0 10px 0",overflow:"auto",backgroundColor:"silver",boxShadow:"1px 5px 10px rgba(0,0,0,1)",margin:"10px 0 10px 0"},O=Object(a.jsx)(T,{css:x,items:o}),g=Object(a.jsx)(T,{css:x,items:n}),y=Object(a.jsx)(T,{css:x,items:b});return Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{content:Object(a.jsxs)("div",{className:"user-content",children:[Object(a.jsx)("center",{children:Object(a.jsx)("div",{className:"content-title",children:"Tables of chats and groups which may be looked over and visited "})}),Object(a.jsxs)("div",{className:"content-block",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["List of chats",Object(a.jsxs)("span",{children:[o.length?o.length:0," items"]})]}),O]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["List of groups",Object(a.jsxs)("span",{children:[n.length?n.length:0," items"]})]}),g]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["List of users",Object(a.jsxs)("span",{children:[b.length?b.length:0," users"]})]}),y]})]})]}),footer:Object(a.jsx)(P,{})})})},K=(n(20),n(47),function(e){e.id;var t=e.name,n=e.options.map((function(e){return Object(a.jsx)("option",{className:"select select-junior",value:e,children:e})}));return Object(a.jsxs)("select",{className:"select select-junior",name:t,children:[Object(a.jsx)("option",{className:"select select-junior",value:""}),n]})}),z=JSON.parse('[{"country":{"en":"Abkhazia","ru":"\u0410\u0431\u0445\u0430\u0437\u0438\u044f"},"capital":{"en":"Sukhum(i)","ru":"\u0421\u0443\u0445\u0443\u043c"}},{"country":{"en":"Afghanistan","ru":"\u0410\u0444\u0433\u0430\u043d\u0438\u0441\u0442\u0430\u043d"},"capital":{"en":"Kabul","ru":"\u041a\u0430\u0431\u0443\u043b"}},{"country":{"en":"Albania","ru":"\u0410\u043b\u0431\u0430\u043d\u0438\u044f"},"capital":{"en":"Tirana","ru":"\u0422\u0438\u0440\u0430\u043d\u0430"}},{"country":{"en":"Algeria","ru":"\u0410\u043b\u0436\u0438\u0440"},"capital":{"en":"Algiers","ru":"\u0410\u043b\u0436\u0438\u0440"}},{"country":{"en":"Argentina","ru":"\u0410\u0440\u0433\u0435\u043d\u0442\u0438\u043d\u0430"},"capital":{"en":"Buenos Aires","ru":"\u0411\u0443\u044d\u043d\u043e\u0441-\u0410\u0439\u0440\u0435\u0441"}},{"country":{"en":"Armenia","ru":"\u0410\u0440\u043c\u0435\u043d\u0438\u044f"},"capital":{"en":"Yerevan","ru":"\u0415\u0440\u0435\u0432\u0430\u043d"}},{"country":{"en":"Australia","ru":"\u0410\u0432\u0441\u0442\u0440\u0430\u043b\u0438\u044f"},"capital":{"en":"Canberra","ru":"\u041a\u0430\u043d\u0431\u0435\u0440\u0440\u0430"}},{"country":{"en":"Austria","ru":"\u0410\u0432\u0441\u0442\u0440\u0438\u044f"},"capital":{"en":"Vienna","ru":"\u0412\u0435\u043d\u0430"}},{"country":{"en":"Azerbaijan","ru":"\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d"},"capital":{"en":"Baku","ru":"\u0411\u0430\u043a\u0443"}},{"country":{"en":"Bahamas","ru":"\u0411\u0430\u0433\u0430\u043c\u0441\u043a\u0438\u0435 \u043e-\u0432\u0430"},"capital":{"en":"Nassau","ru":"\u041d\u0430\u0441\u0441\u0430\u0443"}},{"country":{"en":"Bahrain","ru":"\u0411\u0430\u0445\u0440\u0435\u0439\u043d"},"capital":{"en":"Manama","ru":"\u041c\u0430\u043d\u0430\u043c\u0430"}},{"country":{"en":"Bangladesh","ru":"\u0411\u0430\u043d\u0433\u043b\u0430\u0434\u0435\u0448"},"capital":{"en":"Dacca","ru":"\u0414\u0430\u043a\u043a\u0430"}},{"country":{"en":"Belarus","ru":"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c"},"capital":{"en":"Minsk","ru":"\u041c\u0438\u043d\u0441\u043a"}},{"country":{"en":"Belgium","ru":"\u0411\u0435\u043b\u044c\u0433\u0438\u044f"},"capital":{"en":"Brussels","ru":"\u0411\u0440\u044e\u0441\u0441\u0435\u043b\u044c"}},{"country":{"en":"Bermuda Islands","ru":"\u0411\u0435\u0440\u043c\u0443\u0434\u0441\u043a\u0438\u0435 \u043e-\u0432\u0430"},"capital":{"en":"Hamilton","ru":"\u0413\u0430\u043c\u0438\u043b\u044c\u0442\u043e\u043d"}},{"country":{"en":"Bolivia","ru":"\u0411\u043e\u043b\u0438\u0432\u0438\u044f"},"capital":{"en":"La Paz","ru":"\u041b\u0430-\u041f\u0430\u0441"}},{"country":{"en":"Brazil","ru":"\u0411\u0440\u0430\u0437\u0438\u043b\u0438\u044f"},"capital":{"en":"Brasilia","ru":"\u0411\u0440\u0430\u0437\u0438\u043b\u0438\u0430"}},{"country":{"en":"Bulgaria","ru":"\u0411\u043e\u043b\u0433\u0430\u0440\u0438\u044f"},"capital":{"en":"Sofia","ru":"\u0421\u043e\u0444\u0438\u044f"}},{"country":{"en":"Burundi","ru":"\u0411\u0443\u0440\u0443\u043d\u0434\u0438"},"capital":{"en":"Bujumbura","ru":"\u0411\u0443\u0436\u0443\u043c\u0431\u0443\u0440\u0430"}},{"country":{"en":"Cambodia","ru":"\u041a\u0430\u043c\u0431\u043e\u0434\u0436\u0430"},"capital":{"en":"Pnompenh","ru":"\u041f\u043d\u043e\u043c\u043f\u0435\u043d\u044c"}},{"country":{"en":"Cameroon","ru":"\u041a\u0430\u043c\u0435\u0440\u0443\u043d"},"capital":{"en":"Yaounde","ru":"\u042f\u0443\u043d\u0434\u0435"}},{"country":{"en":"Canada","ru":"\u041a\u0430\u043d\u0430\u0434\u0430"},"capital":{"en":"Ottawa","ru":"\u041e\u0442\u0442\u0430\u0432\u0430"}},{"country":{"en":"Chile","ru":"\u0427\u0438\u043b\u0438"},"capital":{"en":"Santiago","ru":"\u0421\u0430\u043d\u0442\u044c\u044f\u0433\u043e"}},{"country":{"en":"China","ru":"\u041a\u0438\u0442\u0430\u0439"},"capital":{"en":"Beijing / Peking","ru":"\u041f\u0435\u043a\u0438\u043d"}},{"country":{"en":"Colombia","ru":"\u041a\u043e\u043b\u0443\u043c\u0431\u0438\u044f"},"capital":{"en":"Bogota","ru":"\u0411\u043e\u0433\u043e\u0442\u0430"}},{"country":{"en":"Congo","ru":"\u041a\u043e\u043d\u0433\u043e"},"capital":{"en":"Brazzaville","ru":"\u0411\u0440\u0430\u0437\u0437\u0430\u0432\u0438\u043b\u044c"}},{"country":{"en":"Costa Rica","ru":"\u041a\u043e\u0441\u0442\u0430-\u0420\u0438\u043a\u0430"},"capital":{"en":"San Jose","ru":"\u0421\u0430\u043d-\u0425\u043e\u0441\u0435"}},{"country":{"en":"Cuba","ru":"\u041a\u0443\u0431\u0430"},"capital":{"en":"Havana","ru":"\u0413\u0430\u0432\u0430\u043d\u0430"}},{"country":{"en":"Cyprus","ru":"\u041a\u0438\u043f\u0440"},"capital":{"en":"Nicosia","ru":"\u041d\u0438\u043a\u043e\u0441\u0438\u044f"}},{"country":{"en":"Czech Republic","ru":"\u0427\u0435\u0445\u0438\u044f"},"capital":{"en":"Prague","ru":"\u041f\u0440\u0430\u0433\u0430"}},{"country":{"en":"Denmark","ru":"\u0414\u0430\u043d\u0438\u044f"},"capital":{"en":"Copenhagen","ru":"\u041a\u043e\u043f\u0435\u043d\u0433\u0430\u0433\u0435\u043d"}},{"country":{"en":"Dominican Republic","ru":"\u0414\u043e\u043c\u0438\u043d\u0438\u043a\u0430\u043d\u0441\u043a\u0430\u044f \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430"},"capital":{"en":"Santo Domingo","ru":"\u0421\u0430\u043d\u0442\u043e-\u0414\u043e\u043c\u0438\u043d\u0433\u043e"}},{"country":{"en":"Ecuador","ru":"\u042d\u043a\u0432\u0430\u0434\u043e\u0440"},"capital":{"en":"Quito","ru":"\u041a\u0438\u0442\u043e"}},{"country":{"en":"Egypt","ru":"\u0415\u0433\u0438\u043f\u0435\u0442"},"capital":{"en":"Cairo","ru":"\u041a\u0430\u0438\u0440"}},{"country":{"en":"El Salvador","ru":"\u0421\u0430\u043b\u044c\u0432\u0430\u0434\u043e\u0440"},"capital":{"en":"San Salvador","ru":"\u0421\u0430\u043d-\u0421\u0430\u043b\u044c\u0432\u0430\u0434\u043e\u0440"}},{"country":{"en":"Estonia","ru":"\u042d\u0441\u0442\u043e\u043d\u0438\u044f"},"capital":{"en":"Tallinn","ru":"\u0422\u0430\u043b\u043b\u0438\u043d\u043d"}},{"country":{"en":"Ethiopia","ru":"\u042d\u0444\u0438\u043e\u043f\u0438\u044f"},"capital":{"en":"Addis Ababa","ru":"\u0410\u0434\u0434\u0438\u0441-\u0410\u0431\u0435\u0431\u0430"}},{"country":{"en":"Finland","ru":"\u0424\u0438\u043d\u043b\u044f\u043d\u0434\u0438\u044f"},"capital":{"en":"Helsinki","ru":"\u0425\u0435\u043b\u044c\u0441\u0438\u043d\u043a\u0438"}},{"country":{"en":"France","ru":"\u0424\u0440\u0430\u043d\u0446\u0438\u044f"},"capital":{"en":"Paris","ru":"\u041f\u0430\u0440\u0438\u0436"}},{"country":{"en":"Georgia","ru":"\u0413\u0440\u0443\u0437\u0438\u044f"},"capital":{"en":"Tbilisi","ru":"\u0422\u0431\u0438\u043b\u0438\u0441\u0438"}},{"country":{"en":"Germany","ru":"\u0413\u0435\u0440\u043c\u0430\u043d\u0438\u044f"},"capital":{"en":"Berlin","ru":"\u0411\u0435\u0440\u043b\u0438\u043d"}},{"country":{"en":"Ghana","ru":"\u0413\u0430\u043d\u0430"},"capital":{"en":"Accra","ru":"\u0410\u043a\u043a\u0440\u0430"}},{"country":{"en":"Gibraltar","ru":"\u0413\u0438\u0431\u0440\u0430\u043b\u0442\u0430\u0440"},"capital":{"en":"Gibraltar Town","ru":"\u0413\u0438\u0431\u0440\u0430\u043b\u0442\u0430\u0440"}},{"country":{"en":"Great Britain / United Kingdom","ru":"\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f / \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u043e\u0435 \u043a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u043e"},"capital":{"en":"London","ru":"\u041b\u043e\u043d\u0434\u043e\u043d"}},{"country":{"en":"Greece","ru":"\u0413\u0440\u0435\u0446\u0438\u044f"},"capital":{"en":"Athens","ru":"\u0410\u0444\u0438\u043d\u044b"}},{"country":{"en":"Guatemala","ru":"\u0413\u0432\u0430\u0442\u0435\u043c\u0430\u043b\u0430"},"capital":{"en":"Guatemala City","ru":"\u0413\u0432\u0430\u0442\u0435\u043c\u0430\u043b\u0430"}},{"country":{"en":"Guinea","ru":"\u0413\u0432\u0438\u043d\u0435\u044f"},"capital":{"en":"Conakry","ru":"\u041a\u043e\u043d\u0430\u043a\u0440\u0438"}},{"country":{"en":"Haiti","ru":"\u0413\u0430\u0438\u0442\u0438"},"capital":{"en":"Port-au-Prince","ru":"\u041f\u043e\u0440\u0442-\u043e-\u041f\u0440\u0435\u043d\u0441"}},{"country":{"en":"Hawaii","ru":"\u0413\u0430\u0432\u0430\u0439\u0438"},"capital":{"en":"Honolulu","ru":"\u0413\u043e\u043d\u043e\u043b\u0443\u043b\u0443"}},{"country":{"en":"Honduras","ru":"\u0413\u043e\u043d\u0434\u0443\u0440\u0430\u0441"},"capital":{"en":"Tegucigalpa","ru":"\u0422\u0435\u0433\u0443\u0441\u0438\u0433\u0430\u043b\u044c\u043f\u0430"}},{"country":{"en":"Hong Kong","ru":"\u0413\u043e\u043d\u043a\u043e\u043d\u0433"},"capital":{"en":"Hong Kong","ru":"\u0413\u043e\u043d\u043a\u043e\u043d\u0433"}},{"country":{"en":"Hungary","ru":"\u0412\u0435\u043d\u0433\u0440\u0438\u044f"},"capital":{"en":"Budapest","ru":"\u0411\u0443\u0434\u0430\u043f\u0435\u0448\u0442"}},{"country":{"en":"Iceland","ru":"\u0418\u0441\u043b\u0430\u043d\u0434\u0438\u044f"},"capital":{"en":"Reykjavik","ru":"\u0420\u0435\u0439\u043a\u044c\u044f\u0432\u0438\u043a"}},{"country":{"en":"India","ru":"\u0418\u043d\u0434\u0438\u044f"},"capital":{"en":"New Delhi","ru":"\u041d\u044c\u044e-\u0414\u0435\u043b\u0438"}},{"country":{"en":"Indonesia","ru":"\u0418\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u044f"},"capital":{"en":"Jakarta","ru":"\u0414\u0436\u0430\u043a\u0430\u0440\u0442\u0430"}},{"country":{"en":"Iran","ru":"\u0418\u0440\u0430\u043d"},"capital":{"en":"Tehran","ru":"\u0422\u0435\u0433\u0435\u0440\u0430\u043d"}},{"country":{"en":"Iraq","ru":"\u0418\u0440\u0430\u043a"},"capital":{"en":"Baghdad","ru":"\u0411\u0430\u0433\u0434\u0430\u0434"}},{"country":{"en":"Ireland","ru":"\u0418\u0440\u043b\u0430\u043d\u0434\u0438\u044f"},"capital":{"en":"Dublin","ru":"\u0414\u0443\u0431\u043b\u0438\u043d"}},{"country":{"en":"Israel","ru":"\u0418\u0437\u0440\u0430\u0438\u043b\u044c"},"capital":{"en":"Jerusalem","ru":"\u0418\u0435\u0440\u0443\u0441\u0430\u043b\u0438\u043c"}},{"country":{"en":"Italy","ru":"\u0418\u0442\u0430\u043b\u0438\u044f"},"capital":{"en":"Rome","ru":"\u0420\u0438\u043c"}},{"country":{"en":"Ivory Coast","ru":"\u0411\u0435\u0440\u0435\u0433 \u0421\u043b\u043e\u043d\u043e\u0432\u043e\u0439 \u041a\u043e\u0441\u0442\u0438"},"capital":{"en":"Abidjan","ru":"\u0410\u0431\u0438\u0434\u0436\u0430\u043d"}},{"country":{"en":"Jamaica","ru":"\u042f\u043c\u0430\u0439\u043a\u0430"},"capital":{"en":"Kingston","ru":"\u041a\u0438\u043d\u0433\u0441\u0442\u043e\u043d"}},{"country":{"en":"Japan","ru":"\u042f\u043f\u043e\u043d\u0438\u044f"},"capital":{"en":"Tokyo","ru":"\u0422\u043e\u043a\u0438\u043e"}},{"country":{"en":"Kazakhstan","ru":"\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d"},"capital":{"en":"Astana","ru":"\u0410\u0441\u0442\u0430\u043d\u0430"}},{"country":{"en":"Kenya","ru":"\u041a\u0435\u043d\u0438\u044f"},"capital":{"en":"Nairobi","ru":"\u041d\u0430\u0439\u0440\u043e\u0431\u0438"}},{"country":{"en":"Kuwait","ru":"\u041a\u0443\u0432\u0435\u0439\u0442"},"capital":{"en":"Kuwait City","ru":"\u041a\u0443\u0432\u0435\u0439\u0442"}},{"country":{"en":"Kyrgyzstan","ru":"\u041a\u0438\u0440\u0433\u0438\u0437\u0438\u044f"},"capital":{"en":"Bishkek","ru":"\u0411\u0438\u0448\u043a\u0435\u043a"}},{"country":{"en":"Latvia","ru":"\u041b\u0430\u0442\u0432\u0438\u044f"},"capital":{"en":"Riga","ru":"\u0420\u0438\u0433\u0430"}},{"country":{"en":"Lebanon","ru":"\u041b\u0438\u0432\u0430\u043d"},"capital":{"en":"Beirut","ru":"\u0411\u0435\u0439\u0440\u0443\u0442"}},{"country":{"en":"Liberia","ru":"\u041b\u0438\u0431\u0435\u0440\u0438\u044f"},"capital":{"en":"Monrovia","ru":"\u041c\u043e\u043d\u0440\u043e\u0432\u0438\u044f"}},{"country":{"en":"Libya","ru":"\u041b\u0438\u0432\u0438\u044f"},"capital":{"en":"Tripoli","ru":"\u0422\u0440\u0438\u043f\u043e\u043b\u0438"}},{"country":{"en":"Lithuania","ru":"\u041b\u0438\u0442\u0432\u0430"},"capital":{"en":"Vilnius","ru":"\u0412\u0438\u043b\u044c\u043d\u044e\u0441"}},{"country":{"en":"Luxemburg","ru":"\u041b\u044e\u043a\u0441\u0435\u043c\u0431\u0443\u0440\u0433"},"capital":{"en":"Luxemburg","ru":"\u041b\u044e\u043a\u0441\u0435\u043c\u0431\u0443\u0440\u0433"}},{"country":{"en":"Madagascar","ru":"\u041c\u0430\u0434\u0430\u0433\u0430\u0441\u043a\u0430\u0440"},"capital":{"en":"Antananarivo","ru":"\u0410\u043d\u0442\u0430\u043d\u0430\u043d\u0430\u0440\u0438\u0432\u0443"}},{"country":{"en":"Malawi","ru":"\u041c\u0430\u043b\u0430\u0432\u0438"},"capital":{"en":"Lilongwe","ru":"\u041b\u0438\u043b\u043e\u043d\u0433\u0432\u0435"}},{"country":{"en":"Malaysia","ru":"\u041c\u0430\u043b\u0430\u0439\u0437\u0438\u044f"},"capital":{"en":"Kuala Lumpur","ru":"\u041a\u0443\u0430\u043b\u0430-\u041b\u0443\u043c\u043f\u0443\u0440"}},{"country":{"en":"Malta","ru":"\u041c\u0430\u043b\u044c\u0442\u0430"},"capital":{"en":"Valletta","ru":"(\u041b\u0430-)\u0412\u0430\u043b\u043b\u0435\u0442\u0442\u0430"}},{"country":{"en":"Mexico","ru":"\u041c\u0435\u043a\u0441\u0438\u043a\u0430"},"capital":{"en":"Mexico City","ru":"\u041c\u0435\u0445\u0438\u043a\u043e"}},{"country":{"en":"Moldova","ru":"\u041c\u043e\u043b\u0434\u0430\u0432\u0438\u044f"},"capital":{"en":"Chisinau (Kishinev)","ru":"\u041a\u0438\u0448\u0438\u043d\u0435\u0432"}},{"country":{"en":"Monaco","ru":"\u041c\u043e\u043d\u0430\u043a\u043e"},"capital":{"en":"Monaco-Ville","ru":"\u041c\u043e\u043d\u0430\u043a\u043e-\u0412\u0438\u043b\u043b\u044c"}},{"country":{"en":"Mongolia","ru":"\u041c\u043e\u043d\u0433\u043e\u043b\u0438\u044f"},"capital":{"en":"Ulan Bator","ru":"\u0423\u043b\u0430\u043d-\u0411\u0430\u0442\u043e\u0440"}},{"country":{"en":"Morocco","ru":"\u041c\u0430\u0440\u043e\u043a\u043a\u043e"},"capital":{"en":"Rabat","ru":"\u0420\u0430\u0431\u0430\u0442"}},{"country":{"en":"Nepal","ru":"\u041d\u0435\u043f\u0430\u043b"},"capital":{"en":"Kathmandu","ru":"\u041a\u0430\u0442\u043c\u0430\u043d\u0434\u0443"}},{"country":{"en":"Netherlands / Holland","ru":"\u041d\u0438\u0434\u0435\u0440\u043b\u0430\u043d\u0434\u044b / \u0413\u043e\u043b\u043b\u0430\u043d\u0434\u0438\u044f"},"capital":{"en":"Amsterdam","ru":"\u0410\u043c\u0441\u0442\u0435\u0440\u0434\u0430\u043c"}},{"country":{"en":"New Zeland","ru":"\u041d\u043e\u0432\u0430\u044f \u0417\u0435\u043b\u0430\u043d\u0434\u0438\u044f"},"capital":{"en":"Wellington","ru":"\u0412\u0435\u043b\u043b\u0438\u043d\u0433\u0442\u043e\u043d"}},{"country":{"en":"Nicaragua","ru":"\u041d\u0438\u043a\u0430\u0440\u0430\u0433\u0443\u0430"},"capital":{"en":"Managua","ru":"\u041c\u0430\u043d\u0430\u0433\u0443\u0430"}},{"country":{"en":"Nigeria","ru":"\u041d\u0438\u0433\u0435\u0440\u0438\u044f"},"capital":{"en":"Lagos","ru":"\u041b\u0430\u0433\u043e\u0441"}},{"country":{"en":"North Korea","ru":"\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u041a\u043e\u0440\u0435\u044f"},"capital":{"en":"Pyongyang","ru":"\u041f\u0445\u0435\u043d\u044c\u044f\u043d"}},{"country":{"en":"Norway","ru":"\u041d\u043e\u0440\u0432\u0435\u0433\u0438\u044f"},"capital":{"en":"Oslo","ru":"\u041e\u0441\u043b\u043e"}},{"country":{"en":"Oman","ru":"\u041e\u043c\u0430\u043d"},"capital":{"en":"Muscat","ru":"\u041c\u0443\u0441\u043a\u0430\u0442"}},{"country":{"en":"Pakistan","ru":"\u041f\u0430\u043a\u0438\u0441\u0442\u0430\u043d"},"capital":{"en":"Islamabad","ru":"\u0418\u0441\u043b\u0430\u043c\u0430\u0431\u0430\u0434"}},{"country":{"en":"Panama","ru":"\u041f\u0430\u043d\u0430\u043c\u0430"},"capital":{"en":"Panama City","ru":"\u041f\u0430\u043d\u0430\u043c\u0430-\u0421\u0438\u0442\u0438"}},{"country":{"en":"Papua New Guinea","ru":"\u041f\u0430\u043f\u0443\u0430 \u2014 \u041d\u043e\u0432\u0430\u044f \u0413\u0432\u0438\u043d\u0435\u044f"},"capital":{"en":"Port Moresby","ru":"\u041f\u043e\u0440\u0442-\u041c\u043e\u0440\u0441\u0431\u0438"}},{"country":{"en":"Paraguay","ru":"\u041f\u0430\u0440\u0430\u0433\u0432\u0430\u0439"},"capital":{"en":"Asuncion","ru":"\u0410\u0441\u0443\u043d\u0441\u044c\u043e\u043d"}},{"country":{"en":"Peru","ru":"\u041f\u0435\u0440\u0443"},"capital":{"en":"Lima","ru":"\u041b\u0438\u043c\u0430"}},{"country":{"en":"Philippines","ru":"\u0424\u0438\u043b\u0438\u043f\u043f\u0438\u043d\u044b"},"capital":{"en":"Manila","ru":"\u041c\u0430\u043d\u0438\u043b\u0430"}},{"country":{"en":"Poland","ru":"\u041f\u043e\u043b\u044c\u0448\u0430"},"capital":{"en":"Warsaw","ru":"\u0412\u0430\u0440\u0448\u0430\u0432\u0430"}},{"country":{"en":"Portugal","ru":"\u041f\u043e\u0440\u0442\u0443\u0433\u0430\u043b\u0438\u044f"},"capital":{"en":"Lisbon","ru":"\u041b\u0438\u0441\u0441\u0430\u0431\u043e\u043d"}},{"country":{"en":"Puerto Rico","ru":"\u041f\u0443\u044d\u0440\u0442\u043e-\u0420\u0438\u043a\u043e"},"capital":{"en":"San Juan","ru":"\u0421\u0430\u043d-\u0425\u0443\u0430\u043d"}},{"country":{"en":"Romania","ru":"\u0420\u0443\u043c\u044b\u043d\u0438\u044f"},"capital":{"en":"Bucharest","ru":"\u0411\u0443\u0445\u0430\u0440\u0435\u0441\u0442"}},{"country":{"en":"Russia","ru":"\u0420\u043e\u0441\u0441\u0438\u044f"},"capital":{"en":"Moscow","ru":"\u041c\u043e\u0441\u043a\u0432\u0430"}},{"country":{"en":"Rwanda","ru":"\u0420\u0443\u0430\u043d\u0434\u0430"},"capital":{"en":"Kigali","ru":"\u041a\u0438\u0433\u0430\u043b\u0438"}},{"country":{"en":"Saudi Arabia","ru":"\u0421\u0430\u0443\u0434\u043e\u0432\u0441\u043a\u0430\u044f \u0410\u0440\u0430\u0432\u0438\u044f"},"capital":{"en":"Riyadh","ru":"\u042d\u0440-\u0420\u0438\u044f\u0434"}},{"country":{"en":"Senegal","ru":"\u0421\u0435\u043d\u0435\u0433\u0430\u043b"},"capital":{"en":"Dakar","ru":"\u0414\u0430\u043a\u0430\u0440"}},{"country":{"en":"Sierra Leone","ru":"\u0421\u044c\u0435\u0440\u0440\u0430-\u041b\u0435\u043e\u043d\u0435"},"capital":{"en":"Freetown","ru":"\u0424\u0440\u0438\u0442\u0430\u0443\u043d"}},{"country":{"en":"Singapore","ru":"\u0421\u0438\u043d\u0433\u0430\u043f\u0443\u0440"},"capital":{"en":"Singapore City","ru":"\u0421\u0438\u043d\u0433\u0430\u043f\u0443\u0440"}},{"country":{"en":"Slovakia","ru":"\u0421\u043b\u043e\u0432\u0430\u043a\u0438\u044f"},"capital":{"en":"Bratislava","ru":"\u0411\u0440\u0430\u0442\u0438\u0441\u043b\u0430\u0432\u0430"}},{"country":{"en":"Slovenia","ru":"\u0421\u043b\u043e\u0432\u0435\u043d\u0438\u044f"},"capital":{"en":"Ljubljana","ru":"\u041b\u044e\u0431\u043b\u044f\u043d\u0430"}},{"country":{"en":"South Africa","ru":"\u042e\u0436\u043d\u0430\u044f \u0410\u0444\u0440\u0438\u043a\u0430"},"capital":{"en":"Pretoria","ru":"\u041f\u0440\u0435\u0442\u043e\u0440\u0438\u044f"}},{"country":{"en":"South Korea","ru":"\u042e\u0436\u043d\u0430\u044f \u041a\u043e\u0440\u0435\u044f"},"capital":{"en":"Seoul","ru":"\u0421\u0435\u0443\u043b"}},{"country":{"en":"South Ossetia","ru":"\u042e\u0436\u043d\u0430\u044f \u041e\u0441\u0435\u0442\u0438\u044f"},"capital":{"en":"Tskhinval(i)","ru":"\u0426\u0445\u0438\u043d\u0432\u0430\u043b(\u0438)"}},{"country":{"en":"Spain","ru":"\u0418\u0441\u043f\u0430\u043d\u0438\u044f"},"capital":{"en":"Madrid","ru":"\u041c\u0430\u0434\u0440\u0438\u0434"}},{"country":{"en":"Sri Lanka","ru":"\u0428\u0440\u0438-\u041b\u0430\u043d\u043a\u0430"},"capital":{"en":"Colombo","ru":"\u041a\u043e\u043b\u043e\u043c\u0431\u043e"}},{"country":{"en":"Sudan","ru":"\u0421\u0443\u0434\u0430\u043d"},"capital":{"en":"Khartoum","ru":"\u0425\u0430\u0440\u0442\u0443\u043c"}},{"country":{"en":"Sweden","ru":"\u0428\u0432\u0435\u0446\u0438\u044f"},"capital":{"en":"Stockholm","ru":"\u0421\u0442\u043e\u043a\u0433\u043e\u043b\u044c\u043c"}},{"country":{"en":"Switzerland","ru":"\u0428\u0432\u0435\u0439\u0446\u0430\u0440\u0438\u044f"},"capital":{"en":"Berne","ru":"\u0411\u0435\u0440\u043d"}},{"country":{"en":"Syria","ru":"\u0421\u0438\u0440\u0438\u044f"},"capital":{"en":"Damascus","ru":"\u0414\u0430\u043c\u0430\u0441\u043a"}},{"country":{"en":"Taiwan","ru":"\u0422\u0430\u0439\u0432\u0430\u043d\u044c"},"capital":{"en":"Taipei","ru":"\u0422\u0430\u0439\u0431\u044d\u0439"}},{"country":{"en":"Tajikistan","ru":"\u0422\u0430\u0434\u0436\u0438\u043a\u0438\u0441\u0442\u0430\u043d"},"capital":{"en":"Dushanbe","ru":"\u0414\u0443\u0448\u0430\u043d\u0431\u0435"}},{"country":{"en":"Thailand","ru":"\u0422\u0430\u0438\u043b\u0430\u043d\u0434"},"capital":{"en":"Bangkok","ru":"\u0411\u0430\u043d\u0433\u043a\u043e\u043a"}},{"country":{"en":"Togo","ru":"\u0422\u043e\u0433\u043e"},"capital":{"en":"Lome","ru":"\u041b\u043e\u043c\u0435"}},{"country":{"en":"Tunisia","ru":"\u0422\u0443\u043d\u0438\u0441"},"capital":{"en":"Tunis","ru":"\u0422\u0443\u043d\u0438\u0441"}},{"country":{"en":"Turkey","ru":"\u0422\u0443\u0440\u0446\u0438\u044f"},"capital":{"en":"Ankara","ru":"\u0410\u043d\u043a\u0430\u0440\u0430"}},{"country":{"en":"Turkmenistan","ru":"\u0422\u0443\u0440\u043a\u043c\u0435\u043d\u0438\u0441\u0442\u0430\u043d"},"capital":{"en":"Ashgabat","ru":"\u0410\u0448\u0445\u0430\u0431\u0430\u0434"}},{"country":{"en":"Uganda","ru":"\u0423\u0433\u0430\u043d\u0434\u0430"},"capital":{"en":"Kampala","ru":"\u041a\u0430\u043c\u043f\u0430\u043b\u0430"}},{"country":{"en":"Ukraine","ru":"\u0423\u043a\u0440\u0430\u0438\u043d\u0430"},"capital":{"en":"Kyiv (Kiev)","ru":"\u041a\u0438\u0435\u0432"}},{"country":{"en":"United Arab Emirates","ru":"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0435 \u0410\u0440\u0430\u0431\u0441\u043a\u0438\u0435 \u042d\u043c\u0438\u0440\u0430\u0442\u044b"},"capital":{"en":"Abu Dhabi","ru":"\u0410\u0431\u0443-\u0414\u0430\u0431\u0438"}},{"country":{"en":"United States of America / USA","ru":"\u0421\u0428\u0410"},"capital":{"en":"Washington","ru":"\u0412\u0430\u0448\u0438\u043d\u0433\u0442\u043e\u043d"}},{"country":{"en":"Uruguay","ru":"\u0423\u0440\u0443\u0433\u0432\u0430\u0439"},"capital":{"en":"Montevideo","ru":"\u041c\u043e\u043d\u0442\u0435\u0432\u0438\u0434\u0435\u043e"}},{"country":{"en":"Uzbekistan","ru":"\u0423\u0437\u0431\u0435\u043a\u0438\u0441\u0442\u0430\u043d"},"capital":{"en":"Tashkent","ru":"\u0422\u0430\u0448\u043a\u0435\u043d\u0442"}},{"country":{"en":"Venezuela","ru":"\u0412\u0435\u043d\u0435\u0441\u0443\u044d\u043b\u0430"},"capital":{"en":"Caracas","ru":"\u041a\u0430\u0440\u0430\u043a\u0430\u0441"}},{"country":{"en":"Yemen","ru":"\u0419\u0435\u043c\u0435\u043d"},"capital":{"en":"Sana\'a","ru":"\u0421\u0430\u043d\u0430"}},{"country":{"en":"Zaire","ru":"\u0417\u0430\u0438\u0440"},"capital":{"en":"Kinshasa","ru":"\u041a\u0438\u043d\u0448\u0430\u0441\u0430"}},{"country":{"en":"Zambia","ru":"\u0417\u0430\u043c\u0431\u0438\u044f"},"capital":{"en":"Lusaka","ru":"\u041b\u0443\u0441\u0430\u043a\u0430"}},{"country":{"en":"Zimbabwe","ru":"\u0417\u0438\u043c\u0431\u0430\u0431\u0432\u0435"},"capital":{"en":"Harare","ru":"\u0425\u0430\u0440\u0430\u0440\u0435"}}]'),Y=[],U=0;U<z.length;U++)Y.push(z[U].country.en);var _=function(e){var t=e.title,n=(e.action,function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,c,s,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=document.forms[0],a=!0,c=Object(R.a)(n.elements),e.prev=3,c.s();case 5:if((s=c.n()).done){e.next=29;break}if(i=s.value,!/[<>\/]+/.test(i.value)){e.next=14;break}return alert("You have typed incorrect value!"),i.focus(),a=!1,e.abrupt("break",29);case 14:if(i.value||"BUTTON"===i.tagName){e.next=21;break}return alert(i.name+" is empty!Please, fill it"),i.focus(),a=!1,e.abrupt("break",29);case 21:if("email"!==i.name){e.next=27;break}if(i.value.match(/^([a-zA-Z0-9\-_]{1,30})@([a-z]{1,15}\.[a-z]{1,5})$/)){e.next=27;break}return alert("You have typed incorrect email!"),n.elements.email.focus(),a=!1,e.abrupt("break",29);case 27:e.next=5;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(3),c.e(e.t0);case 34:return e.prev=34,c.f(),e.finish(34);case 37:if(!a){e.next=41;break}return o={name:n.elements.name.value,email:n.elements.email.value,password:n.elements.password.value,age:n.elements.age.value,country:n.elements.country.value},e.next=41,r("/registration?act=r",o);case 41:case"end":return e.stop()}}),e,null,[[3,31,34,37]])})));return function(t){return e.apply(this,arguments)}}()),r=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify(n)});case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).success?(alert("You have registered! Now You may login to the website!"),document.location.href="/login"):r.error?(r.error.match("Name")&&(alert("That name is already used.Please,change the name"),document.forms[0].elements.name.focus()),r.error.match("Email")&&(alert("That email is already used.Please,change the email"),document.forms[0].elements.email.focus())):(alert("Registration Error! Please retry once again!"),document.location.reload());case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:"form form-junior",children:[Object(a.jsx)("p",{children:t}),Object(a.jsx)(N,{type:"text",name:"name",placeholder:"username"}),Object(a.jsx)(N,{type:"email",name:"email",placeholder:"email"}),Object(a.jsx)(N,{type:"password",name:"password",placeholder:"password"}),Object(a.jsx)(N,{type:"number",name:"age",placeholder:"age"}),Object(a.jsx)(K,{id:"country",name:"country",options:Y}),Object(a.jsx)(O,{action:n,text:"sign up!"})]})},G=function(){return Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{header:Object(a.jsx)(E,{start:!0}),content:Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(_,{title:"Registration form"})}),footer:Object(a.jsx)(P,{})})})},F=function(e){var t=e.title,n=(e.action,function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=document.forms[0],!/^([a-zA-Z0-9\-_]{1,30})@([a-z]{1,15}\.[a-z]{1,5})$/.test(n.elements.email.value)){e.next=8;break}return a={email:n.elements.email.value,password:n.elements.password.value},e.next=6,r("/login?act=l",a);case 6:e.next=10;break;case 8:alert("You have typed incorrect email!"),n.elements.email.focus();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)});case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).success?(localStorage.setItem("logged",!0),document.location.href="/main"):r.error?(alert(r.error),document.location.reload()):(alert("Login Error! Please retry once again"),document.location.reload());case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:"form form-junior",children:[Object(a.jsx)("p",{children:t}),Object(a.jsx)("p",{style:{textAlign:"center"},children:"If you haven't registered yet,please do it now"}),Object(a.jsx)(N,{type:"email",name:"email",placeholder:"email"}),Object(a.jsx)(N,{type:"password",name:"password",placeholder:"password"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(O,{text:"sign in!",action:n}),Object(a.jsx)(O,{text:"registration",action:function(e){e.preventDefault(),document.location.href="/registration"}})]})]})},W=function(){return Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{header:Object(a.jsx)(E,{start:!0}),content:Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(F,{title:"Login form"})}),footer:Object(a.jsx)(P,{})})})},Z=function(){return Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{header:Object(a.jsx)(E,{start:!0}),content:Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(_,{title:"Registration form"})}),footer:Object(a.jsx)(P,{})})})},q=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/chats/getInfo");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.chats.map((function(e){return Object(a.jsx)(D,{object:e})})),c(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}}),e)}))),[]);return Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{header:Object(a.jsx)(E,{start:!0}),content:Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(T,{items:n,css:{width:1e3,display:"flex",flexDirection:"column",alignItems:"center",height:300,borderRadius:5,border:"1px solid firebrick",padding:"10px 0 10px 0",overflow:"auto",backgroundColor:"silver",boxShadow:"1px 5px 10px rgba(0,0,0,1)"}})}),footer:Object(a.jsx)(P,{})})})},V=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/groups/getInfo");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.groups.map((function(e){return Object(a.jsx)(D,{object:e})})),c(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{header:Object(a.jsx)(E,{start:!0}),content:Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(T,{items:n,css:{width:1e3,display:"flex",flexDirection:"column",alignItems:"center",height:300,borderRadius:5,border:"1px solid firebrick",padding:"10px 0 10px 0",overflow:"auto",backgroundColor:"silver",boxShadow:"1px 5px 10px rgba(0,0,0,1)"}})}),footer:Object(a.jsx)(P,{})})})},$=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/people/getInfo");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.users.map((function(e){return Object(a.jsx)(D,{user:!0,object:e})})),c(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{header:Object(a.jsx)(E,{start:!0}),content:Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(T,{items:n,css:{width:1e3,display:"flex",flexDirection:"column",alignItems:"center",height:300,borderRadius:5,border:"1px solid firebrick",padding:"10px 0 10px 0",overflow:"auto",backgroundColor:"silver",boxShadow:"1px 5px 10px rgba(0,0,0,1)"}})}),footer:Object(a.jsx)(P,{})})})},Q=(n(48),n(49),function(e){var t=e.name,n=e.id,r=e.rows,c=e.disabled,s=e.css,i=e.socket,o=function(){var e=document.location.href,t=e.slice(e.lastIndexOf("/")+1,e.length);return t.match(/[0-9abcdef]{24}/)?t:null},d=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=document.querySelector("textarea[name=message]")).value){e.next=3;break}return e.abrupt("return");case 3:if(n.value=n.value.trim(),!(n.value.length<1)){e.next=6;break}return e.abrupt("return");case 6:return a=X(24),i.send(n.value+"/"+a),r=JSON.stringify({msg:n.value,chat:o(),gen:a}),n.value="",e.next=12,fetch("/chat/postMessage",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:r});case 12:if(!(c=e.sent).ok){e.next=20;break}return e.next=16,c.text();case 16:"success"!==e.sent&&console.log("need to handle sendmessage error"),e.next=21;break;case 20:console.log("request not accomplished");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"message-wrapper",children:Object(a.jsxs)("div",{className:"message",children:[Object(a.jsx)("textarea",{style:s,name:t,id:n,rows:r,disabled:c}),Object(a.jsxs)("div",{className:"message-btns",children:[Object(a.jsx)(O,{text:"clear",action:function(e){document.getElementsByTagName("textarea")[0].value&&(document.getElementsByTagName("textarea")[0].value="")}}),Object(a.jsx)(O,{text:"send",action:d})]})]})})});function X(e){for(var t="0123456789abcdef",n="",a=0;a<e;a++){var r=Math.random()*(t.length-1);r=r.toFixed(),n+=t.charAt(r)}return n}var ee,te="/img/avatars/",ne={color:"black",fontSize:12},ae={width:40,height:40,borderRadius:50},re=[],ce=function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)({}),i=Object(d.a)(s,2),o=i[0],p=i[1],j=Object(r.useState)([]),h=Object(d.a)(j,2),b=h[0],m=h[1];function f(e){return Array.isArray(e)?re=e:re.push(e),re}var x=Object(r.useMemo)((function(){return f(re)}),[re]),g=Object(r.useRef)(null);function v(){var e=g.current.scrollHeight;g.current.scrollTop=e}var y=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("logged")){e.next=2;break}return e.abrupt("return");case 2:return t=ie(),e.prev=3,e.next=6,fetch("/chat/getData?id="+t);case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,ee=a.currentUser,r=se(a),p(r),f(a.messages),m(a.people),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}(),w=function(){if(localStorage.getItem("logged")){var e=new WebSocket("ws://localhost:3000/ws");c(e)}else document.location.href="/"};Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:w(),v();case 4:case"end":return e.stop()}}),e)}))),[]),Object(r.useLayoutEffect)((function(){n&&(n.onopen=function(){},n.onmessage=function(e){f(JSON.parse(e.data)),v()},n.onerror=function(e){console.log("There was an error: "+e.name+": "+e.message)},n.onclose=function(e){console.log("socket is closed"),w()}),v()}));var k=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ie(),e.next=3,fetch("/chat/deleteFrom",{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({chat:t})});case 3:return n=e.sent,e.next=6,n.text();case 6:"success"===e.sent&&(document.location.href="/main");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){n.children[0].outerHTML=a.outerHTML},!1,n=t.target.closest(".chat-msg-self"),a=n.children[0],r='<input \n\t\tstyle="border-radius:15px;max-width:300px;word-wrap:break-word;\n\t\tmargin: 20px 5px 10px 20px;font: 18px Lucida Console,Monospace;\n\t\tbackground-color:orange;padding:10px;text-align:center;outline:none;" \n\t\ttype="text" value=\''.concat(a.innerHTML,"'/>"),n.children[0].outerHTML=r,n.children[0].focus(),n.children[0].addEventListener("blur",c),n.children[0].onkeydown=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.code){e.next=12;break}return this.removeEventListener("blur",c),r=t.target.value,n.children[0].outerHTML=a.outerHTML,s={chat:ie(),msg:n.dataset.id,body:r},e.next=7,fetch("/chat/editMessage",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(s)});case 7:return i=e.sent,e.next=10,i.text();case 10:"success"===e.sent?n.children[0].innerHTML=r:console.log("fail");case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.closest(".chat-msg-self"),a=ie(),r=n.dataset.id,e.next=5,fetch("/chat/deleteMessage",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({chat:a,msg:r})});case 5:return c=e.sent,e.next=8,c.text();case 8:"success"===e.sent&&n.remove();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();x=x.map((function(e,t){return e.creator===ee?Object(a.jsxs)("div",{"data-id":e.id,className:"chat-msg-self",children:[Object(a.jsx)("div",{className:"msg",children:e.body}),Object(a.jsxs)("div",{className:"chat-msg-btns",children:[Object(a.jsx)("span",{onClick:N,id:"chat-msg-edit",children:"\u270e"}),Object(a.jsx)("span",{onClick:S,id:"chat-msg-delete",children:"\u2716"})]}),Object(a.jsxs)("div",{className:"chat-avatar",children:[Object(a.jsx)("img",{src:te+e.avatar,alt:e.creator,style:ae}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:e.creator}),Object(a.jsxs)("div",{style:ne,children:["at:",e.time]})]})]})]},t):Object(a.jsxs)("div",{className:"chat-msg",children:[Object(a.jsxs)("div",{className:"chat-avatar",children:[Object(a.jsx)("img",{src:te+e.avatar,alt:e.creator,style:ae}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:e.creator}),Object(a.jsxs)("div",{style:ne,children:["at:",e.time]})]})]}),Object(a.jsx)("div",{className:"msg",children:e.body})]},t)})),b=b.map((function(e,t){return Object(a.jsxs)("div",{className:"user-info-block",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:e.online?"user-dot-online":"user-dot",children:"\u2022"}),Object(a.jsx)("img",{src:te+e.avatar,alt:e.name}),Object(a.jsx)("span",{children:e.name})]}),Object(a.jsxs)("span",{children:["status: ",e.status]}),Object(a.jsxs)("span",{children:["estimate: ",e.estimate]}),Object(a.jsx)(O,{text:"add user"})]},t)}));var T=o.name,C=o.created,L=o.creator,A=o.messages,E=o.people,M=o.isPrivate,B=o.onliners;return Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{content:Object(a.jsx)("div",{className:"user-content",children:Object(a.jsxs)("div",{className:"chat-wrapper",children:[Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)("div",{ref:g,className:"chat-msgs",children:x}),Object(a.jsx)(Q,{name:"message",id:"message",rows:10,socket:n})]}),Object(a.jsxs)("div",{className:"chat-info-wrapper",children:[Object(a.jsxs)("div",{className:"chat-info",children:[Object(a.jsxs)("div",{children:["name: ",T]}),Object(a.jsxs)("div",{children:["created date: ",C]}),Object(a.jsxs)("div",{children:["who created: ",L]}),Object(a.jsxs)("div",{children:["messages amount: ",A]}),Object(a.jsxs)("div",{children:["people amount: ",E]}),Object(a.jsxs)("div",{children:["people online: ",B]}),Object(a.jsx)("div",{children:M?"private":""})]}),Object(a.jsx)("div",{className:"chat-info-users",children:b}),Object(a.jsxs)("div",{className:"chat-info-btns",children:[Object(a.jsx)("button",{onClick:function(){return document.location.href="/main"},children:"back to page of chat lists"}),Object(a.jsx)("button",{onClick:k,children:"delete chat from my chat list"})]})]})]})}),footer:Object(a.jsx)(P,{})})})};function se(e){var t={};for(var n in e.chat)"date"===n?t.created=e.chat[n].slice(0,e.chat[n].indexOf("T")):t[n]="messages"===n||"people"===n?e.chat[n].length:e.chat[n];var a,r=0,c=Object(R.a)(e.people);try{for(c.s();!(a=c.n()).done;){a.value.online&&r++}}catch(s){c.e(s)}finally{c.f()}return t.onliners=r,t}function ie(){var e=document.location.href,t=e.slice(e.lastIndexOf("/")+1,e.length);return t.match(/[0-9abcdef]{24}/)?t:null}n(50),n.p;var oe=n(25),ue=(n(51),function(e){var t=e.items,n=e.select,r=e.input,c=e.button,s=e.title;return n&&!c?(t=Array.isArray(t)?t:t.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.name},t)})),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("p",{children:s||n.title}),Object(a.jsx)("select",{name:n.name,children:t})]})):n&&c?(t=Array.isArray(t)?t:t.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.name},t)})),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("p",{children:s||n.title}),Object(a.jsxs)("div",{className:"field-action",children:[Object(a.jsx)("select",{name:n.name,children:t}),Object(a.jsx)("button",{onClick:c.action,children:c.value})]})]})):r&&!c?Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("p",{children:s||r.title}),Object(a.jsx)("input",{onInput:r.action?r.action:null,name:r.name,type:r.type?r.type:"text",placeholder:r.placeholder})]}):r&&c?Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("p",{children:s||r.title}),Object(a.jsxs)("div",{className:"field-action",children:[Object(a.jsx)("input",{onInput:r.action?r.action:null,name:r.name,type:r.type?r.type:"text",placeholder:r.placeholder}),Object(a.jsx)("button",{onClick:c.action,children:c.value})]})]}):void 0}),le=function(e){var t=e.chats,n=e.groups,c=e.name,s=e.country,i=Object(r.useState)(!0),o=Object(d.a)(i,2),p=o[0],j=o[1];function h(){return(h=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target.parentNode.children[0].value)&&!(n.length>30)){e.next=4;break}return t.target.focus(),e.abrupt("return");case 4:return e.next=6,fetch("/profile/checkPass",{method:"POST",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify({password:n})});case 6:return a=e.sent,e.next=9,a.text();case 9:if("success"!==e.sent){e.next=19;break}return console.log(t.target.parentNode),t.target.parentNode.children[0].value="",j(!1),t.target.parentNode.children[0].focus(),alert("Now put the new password"),e.abrupt("return",!0);case 19:return alert("You put wrong password!"),t.target.parentNode.children[0].focus(),e.abrupt("return",!1);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target.parentNode.children[0].value)&&!(n.length<1)){e.next=5;break}return alert("Put down the password!"),t.target.parentNode.children[0].focus(),e.abrupt("return");case 5:if(!n){e.next=18;break}return e.next=8,fetch("/profile/changePass",{method:"POST",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify({password:n})});case 8:return a=e.sent,e.next=11,a.text();case 11:if("success"!==e.sent){e.next=16;break}alert("You have changed the password! Now you have to login with it!"),e.next=18;break;case 16:return alert("Error! Your Password was not changed!Try again!"),e.abrupt("return");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.parentNode.children[0].value,a=t.target.parentNode.children[0].name,n=n.trim(),a="username"===a?"username":"country",!(n&&n.length>1)){e.next=19;break}return e.next=7,fetch("/profile/changeInfo",{method:"POST",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify(Object(oe.a)({},a,n))});case 7:return r=e.sent,e.next=10,r.text();case 10:if("success"!==(c=e.sent)){e.next=16;break}alert("You have changed the info!"),document.location.reload(),e.next=19;break;case 16:return console.log(c),alert("Error! Your Info was not changed!Try again!"),e.abrupt("return");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.parentNode.children[0].value).match(/^[0-9abcdef]{24}$/)){e.next=9;break}return e.next=4,fetch("/profile/delFromChats",{method:"POST",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify({chatId:n})});case 4:return a=e.sent,e.next=7,a.text();case 7:"success"===(r=e.sent)?document.location.reload():(console.log(r),alert("Error: You have not been deleted! Try again!"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t=t.length>0?t.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name})})):[],n=n.length>0?n.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name})})):[];return Object(a.jsxs)("div",{className:"profile-chat-menu list",children:[Object(a.jsx)(ue,{title:"change name:",input:{name:"username",placeholder:c},button:{action:m,value:"change"}}),Object(a.jsx)(ue,{title:"change country:",input:{name:"country",placeholder:s},button:{action:m,value:"change"}}),Object(a.jsx)(ue,{title:"change password:",input:{type:"password",name:"password",placeholder:p?"old password":"new password"},button:{action:p?function(e){return h.apply(this,arguments)}:function(e){return b.apply(this,arguments)},value:p?"check":"change"}}),Object(a.jsx)(ue,{title:"delete me from chats:",select:{name:"chats"},items:t,button:{action:x,value:"delete"}}),Object(a.jsx)(ue,{title:"delete me from groups:",select:{name:"groups"},items:n,button:{action:x,value:"delete"}})]})},de=function(){var e=Object(r.useState)({name:"",avatar:"",status:"",estimate:"",country:"",age:"",email:"",chats:[],groups:[],tags:[],registered:""}),t=Object(d.a)(e,2),n=t[0],c=t[1],s=n.name,i=(n.avatar,n.status,n.estimate,n.country),o=(n.age,n.email,n.chats),p=n.groups,j=(n.registered,n.tags,Object(r.useRef)(null));var h=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/profile/getData");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),a="",n.tags.forEach((function(e){a+=e+"\n"})),r=a,j.current.innerHTML=r,c(n);case 11:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.parentNode.children[0],console.log(n.value),n.value&&!(n.value.length>80)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,fetch("/profile/addChat",{method:"POST",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify({name:n.value})});case 6:return a=e.sent,e.next=9,a.text();case 9:r=e.sent,console.log(r),"success"===r?(alert("chat was created successfully"),document.location.reload()):alert("Error: chat was not created");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target.parentNode.children[0]).value&&!(n.value.length>40)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("/profile/delChats",{method:"DELETE",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify({chat:n.value})});case 5:return a=e.sent,e.next=8,a.text();case 8:"success"===e.sent?(alert("chat was removed successfully"),localStorage.setItem("logged",!1),document.location.reload()):alert("Error: chat was not removed");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/profile/delProfile",{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.text();case 5:"success"===e.sent?(localStorage.removeItem("logged"),alert("Your profile deleted!Good Luck!"),document.location.href="/"):alert("Error!Profile was not deleted");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.querySelector("input[name=avatar]"),(a=new FormData).append("avatar",n.files[0]),e.next=5,fetch("/profile/uploadAvatar",{method:"POST",body:a});case 5:return r=e.sent,e.next=8,r.text();case 8:"success"===(c=e.sent)?(alert("Photo was uploaded"),document.location.reload()):alert(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.parentNode.children[0].value,a=/#[a-zA-Z\u0430-\u044f\u0410-\u042f0-9\-\_@]{2,30}/gm,r=n.match(a),!(Array.isArray(r)&&r.length>0)){e.next=12;break}return r=r.join(""),e.next=7,fetch("/profile/addTags",{method:"POST",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify({tags:r})});case 7:return c=e.sent,e.next=10,c.text();case 10:"success"===(s=e.sent)?document.location.reload():(console.log(s),alert("Error: chat was not created"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}}),e)}))),[]);var v=[],y=[];return o=o.map((function(e,t){if(e)return!e||e.owner?Object(a.jsx)("option",{value:e.id,children:e.name},t):void v.push(e)})),p=p.map((function(e,t){if(e)return!e||e.owner?Object(a.jsx)("option",{value:e.id,children:e.name},t):void y.push(e)})),Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(I,{content:Object(a.jsx)("div",{className:"user-content",children:Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsxs)("div",{className:"profile-item-a",children:[Object(a.jsxs)("div",{className:"profile-avatar",children:[Object(a.jsx)("img",{src:"/img/avatars/"+n.avatar,alt:s}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"upload your photo:"}),Object(a.jsx)("input",{type:"file",name:"avatar"})]}),Object(a.jsx)("button",{onClick:x,children:"upload"})]}),Object(a.jsxs)("div",{className:"profile-extra-block",children:[Object(a.jsxs)("div",{className:"profile-extra-btns",children:[Object(a.jsx)(O,{text:"back to previous page",css:{height:50,width:200},action:function(){window.history.back()}}),Object(a.jsx)(O,{text:"delete my profile",css:{height:50,width:200,color:"red"},action:f})]}),Object(a.jsxs)("div",{className:"profile-extra-tags",children:[Object(a.jsx)("p",{children:"You can point up to 5 hashtags in purpose to describe yourself to others"}),Object(a.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(a.jsx)("textarea",{placeholder:"example:#mySuperTag",ref:j,name:"tags",id:"tags",cols:"30",rows:"10"}),Object(a.jsx)("button",{onClick:g,children:"add"})]})]})]})]}),Object(a.jsx)("div",{className:"profile-item-b",children:Object(a.jsx)(le,{chats:v,groups:y,name:s,country:i})}),Object(a.jsxs)("div",{className:"profile-item-c",children:[Object(a.jsxs)("div",{className:"profile-chat-menu list",children:[Object(a.jsx)(ue,{title:"my created chats",select:{name:"my-chats"},items:o}),Object(a.jsx)(ue,{title:"create new chat",input:{name:"create-chat",placeholder:"name of chat"},button:{action:b,value:"create"}}),Object(a.jsx)(ue,{title:"delete my chat",select:{name:"del-chat"},items:o,button:{action:m,value:"delete"}})]}),Object(a.jsxs)("div",{className:"profile-chat-menu list",children:[Object(a.jsx)(ue,{title:"my created groups",select:{name:"my-groups"},items:p}),Object(a.jsx)(ue,{title:"create new group",input:{name:"create-group",placeholder:"name of group"},button:{action:b,value:"create"}}),Object(a.jsx)(ue,{title:"delete my group",select:{name:"del-group"},items:p,button:{action:m,value:"delete"}})]})]})]})}),footer:Object(a.jsx)(P,{})})})};var pe=function(){var e=Object(r.useState)({display:"none"}),t=Object(d.a)(e,2),n=t[0],c=t[1],s=function(e,t){var n=e.getBoundingClientRect(),a=n.left,r=(n.right,n.top),c=n.bottom,s=window,i=s.innerHeight,o=s.innerWidth;if("x"===t){if(a+200>o)return a-200;if(a-200<0)return a+200}if("y"===t){if(c+20>i)return c-20;if(r-20<0)return r+20}},i=n,o=i.title,b=i.text,m=i.left,f=i.top,x=i.display,O=Object(r.useState)({}),g=Object(d.a)(O,2),v=g[0],y=g[1],k=Object(r.useState)(),N=Object(d.a)(k,2),S=N[0],T=N[1],C=v.name,L=v.avatar,A=v.status,E=v.estimate,M=v.country,P=v.age,I=v.email,B=v.tags,R=v.chats,D=v.groups,K=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/_user");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).name?(y(n),T((a=n.registered).slice(0,a.indexOf("T"))),document.getElementsByClassName("user-bar-wrapper")[0].style.display="block"):n.unlogged&&localStorage.removeItem("logged"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}var a}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:document.body.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),document.body.addEventListener("select",(function(e){return e.preventDefault(),!1}));case 3:case"end":return e.stop()}}),e)}))),[]),Object(a.jsxs)("div",{onMouseMove:function(e){if(e.target.dataset.tip&&"userBarTip"===e.target.dataset.tip){var t=e.pageX,a=e.pageY;t=s(e.target,"x"),a=s(e.target,"y"),n={text:"this button opens your personal information",left:t,top:a,display:"inline-block"}}e.target.dataset.tip||c({text:"",top:"",left:"",display:"none"})},children:[Object(a.jsx)(w,{name:C,avatar:L,registration:S,status:A,estimate:E,tags:B,chats:R,groups:D,country:M,age:P,email:I}),Object(a.jsx)(p.a,{children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",children:Object(a.jsx)(H,{})}),Object(a.jsx)(j.a,{exact:!0,path:"/main",children:Object(a.jsx)(J,{})}),Object(a.jsx)(j.a,{path:"/registration",children:Object(a.jsx)(G,{})}),Object(a.jsx)(j.a,{path:"/login",children:Object(a.jsx)(W,{})}),Object(a.jsx)(j.a,{path:"/feedback",children:Object(a.jsx)(Z,{})}),Object(a.jsx)(j.a,{path:"/chats",children:Object(a.jsx)(q,{})}),Object(a.jsx)(j.a,{path:"/chat",children:Object(a.jsx)(ce,{})}),Object(a.jsx)(j.a,{path:"/groups",children:Object(a.jsx)(V,{})}),Object(a.jsx)(j.a,{path:"/people",children:Object(a.jsx)($,{})}),Object(a.jsx)(j.a,{path:"/profile",children:Object(a.jsx)(de,{})})]})}),Object(a.jsx)(h,{title:o,text:b,left:m,top:f,display:x})]})};i.a.render(Object(a.jsx)(pe,{}),document.getElementById("root"))}]),[[57,1,2]]]);
//# sourceMappingURL=main.f31919be.chunk.js.map